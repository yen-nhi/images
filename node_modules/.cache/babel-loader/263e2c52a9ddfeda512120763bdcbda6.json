{"ast":null,"code":"import _slicedToArray from \"/home/nhi/react Images/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/home/nhi/react Images/src/App.js\",\n    _s = $RefreshSig$();\n\nimport Canvas from \"./components/Canvas\";\nimport classes from './App.module.css';\nimport { useState } from 'react';\nimport { storage } from './firebase/firebase';\nimport { getDownloadURL, uploadBytesResumable } from \"firebase/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imageUrl = _useState4[0],\n      setImageUrl = _useState4[1];\n\n  var fileChangeHandler = function fileChangeHandler(e) {\n    setImage(e.target.files[0]);\n  };\n\n  var fileUploadHandler = function fileUploadHandler() {\n    var storageRef = ref(storage, \"/images/\".concat(image.name));\n    var uploadTask = uploadBytesResumable(storageRef, image);\n    uploadTask.on('state_changed', function (snapshot) {}, function (err) {\n      console.log(err);\n    }, function () {\n      getDownloadURL(uploadTask.snapshot.ref).then(function (url) {\n        return setImageUrl(url);\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.app,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: fileChangeHandler,\n      className: classes.chooseFile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: fileUploadHandler,\n      children: \"Upload Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: \"image tag\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"Pr31/i7hEVYutz5QEdwe0YQUAJw=\");\n\n_c = App;\n;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/nhi/react Images/src/App.js"],"names":["Canvas","classes","useState","storage","getDownloadURL","uploadBytesResumable","App","image","setImage","imageUrl","setImageUrl","fileChangeHandler","e","target","files","fileUploadHandler","storageRef","ref","name","uploadTask","on","snapshot","err","console","log","then","url","app","chooseFile"],"mappings":";;;;;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,cAAT,EAAyBC,oBAAzB,QAAqD,kBAArD;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,kBAA0BJ,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOK,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAgCN,QAAQ,EAAxC;AAAA;AAAA,MAAOO,QAAP;AAAA,MAAiBC,WAAjB;;AACD,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD,EAAO;AAChCJ,IAAAA,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR;AACA,GAFD;;AAIA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC7B,QAAMC,UAAU,GAAGC,GAAG,CAACd,OAAD,oBAAqBI,KAAK,CAACW,IAA3B,EAAtB;AACA,QAAMC,UAAU,GAAGd,oBAAoB,CAACW,UAAD,EAAaT,KAAb,CAAvC;AACAY,IAAAA,UAAU,CAACC,EAAX,CAAc,eAAd,EAA+B,UAACC,QAAD,EAAc,CAAE,CAA/C,EACA,UAACC,GAAD,EAAS;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,KAD3B,EAEA,YAAM;AACJlB,MAAAA,cAAc,CAACe,UAAU,CAACE,QAAX,CAAoBJ,GAArB,CAAd,CAAwCQ,IAAxC,CAA6C,UAAAC,GAAG;AAAA,eAAIhB,WAAW,CAACgB,GAAD,CAAf;AAAA,OAAhD;AACD,KAJD;AAMF,GATD;;AAYC,sBACI;AAAK,IAAA,SAAS,EAAEzB,OAAO,CAAC0B,GAAxB;AAAA,4BACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAEhB,iBAA7B;AAAgD,MAAA,SAAS,EAAEV,OAAO,CAAC2B;AAAnE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAEb,iBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAK,MAAA,GAAG,EAAEN,QAAV;AAAoB,MAAA,GAAG,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQD;;GA3BQH,G;;KAAAA,G;AA2BR;AAED,eAAeA,GAAf","sourcesContent":["import Canvas from \"./components/Canvas\";\nimport classes from './App.module.css';\nimport { useState } from 'react';\nimport { storage } from './firebase/firebase';\nimport { getDownloadURL, uploadBytesResumable } from \"firebase/storage\";\n\nfunction App() {\n  const [image, setImage] = useState('');\n  const [imageUrl, setImageUrl] = useState();\n const fileChangeHandler = (e) => {\n  setImage(e.target.files[0])\n }\n\n const fileUploadHandler = () => {\n    const storageRef = ref(storage, `/images/${image.name}`)\n    const uploadTask = uploadBytesResumable(storageRef, image);\n    uploadTask.on('state_changed', (snapshot) => {},\n    (err) => {console.log(err)},\n    () => {\n      getDownloadURL(uploadTask.snapshot.ref).then(url => setImageUrl(url))\n    }\n    )\n };\n\n\n  return(\n      <div className={classes.app}>\n        <input type=\"file\" onChange={fileChangeHandler} className={classes.chooseFile}/>\n        <button type=\"button\" onClick={fileUploadHandler}>Upload Image</button>\n        <img src={imageUrl} alt=\"image tag\" />\n        <Canvas/>\n      </div>\n  )\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}