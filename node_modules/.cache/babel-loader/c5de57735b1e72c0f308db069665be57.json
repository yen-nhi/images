{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/nhi/react Images/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n\nvar _jsxFileName = \"/home/nhi/react Images/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./styles.css\";\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  var canvas = useRef();\n  var ctx = null;\n  var currentBox = null;\n  var boxArray = [];\n  var image = new Image(60, 45);\n  image.src = 'https://mdn.mozillademos.org/files/5397/rhino.jpg';\n\n  var drawBox = function drawBox(box) {\n    var borderColor = 'black';\n    var borderWidth = 1;\n    var x = box.x,\n        y = box.y,\n        w = box.w,\n        h = box.h;\n    ctx.beginPath();\n    ctx.strokeStyle = borderColor;\n    ctx.lineWidth = borderWidth;\n    ctx.rect(x, y, w, h);\n    ctx.stroke();\n  };\n\n  var drawBoxes = function drawBoxes() {\n    if (ctx !== null) {\n      ctx.clearRect(0, 0, canvas.current.clientWidth, canvas.current.clientHeight);\n      ctx.drawImage(image, 0, 0);\n\n      var _iterator = _createForOfIteratorHelper(boxArray),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var box = _step.value;\n          drawBox(box);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (currentBox !== null) {\n        drawBox(currentBox);\n      }\n    }\n  };\n\n  var handleMouseDown = function handleMouseDown(e) {\n    var x = parseInt(e.nativeEvent.offsetX - canvas.current.clientLeft);\n    var y = parseInt(e.nativeEvent.offsetY - canvas.current.clientTop);\n    currentBox = {\n      x: x,\n      y: y,\n      w: 30,\n      h: 30\n    };\n    drawBoxes();\n  };\n\n  var handleMouseUp = function handleMouseUp(e) {\n    if (currentBox !== null) {\n      boxArray.push(currentBox);\n      currentBox = null;\n    }\n\n    drawBoxes();\n  };\n\n  var handleMouseOut = function handleMouseOut(e) {\n    currentBox = null;\n    drawBoxes();\n  };\n\n  var handleMouseMove = function handleMouseMove(e) {\n    if (currentBox !== null) {\n      var _currentBox = currentBox,\n          x = _currentBox.x,\n          y = _currentBox.y,\n          w = _currentBox.w,\n          h = _currentBox.h;\n      var mouseX = parseInt(e.nativeEvent.offsetX - canvas.current.clientLeft);\n      var mouseY = parseInt(e.nativeEvent.offsetY - canvas.current.clientTop);\n      currentBox = {\n        x: x,\n        y: y,\n        w: mouseX - x,\n        h: mouseY - y\n      };\n      drawBoxes();\n    }\n  }; // initialize the canvas context\n\n\n  useEffect(function () {\n    // dynamically assign the width and height to canvas\n    var canvasEle = canvas.current;\n    canvasEle.width = canvasEle.clientWidth;\n    canvasEle.height = canvasEle.clientHeight; // get context of the canvas\n\n    ctx = canvasEle.getContext(\"2d\");\n  }, []);\n  useEffect(function () {\n    drawBoxes();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Hello CodeSandbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Start editing to see some magic happen!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      onMouseDown: handleMouseDown,\n      onMouseUp: handleMouseUp,\n      onMouseOut: handleMouseOut,\n      onMouseMove: handleMouseMove,\n      ref: canvas\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Uf3A04Dxr7BWd2F1n+LTI5nEQDU=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/nhi/react Images/src/App.js"],"names":["React","useRef","useEffect","App","canvas","ctx","currentBox","boxArray","image","Image","src","drawBox","box","borderColor","borderWidth","x","y","w","h","beginPath","strokeStyle","lineWidth","rect","stroke","drawBoxes","clearRect","current","clientWidth","clientHeight","drawImage","handleMouseDown","e","parseInt","nativeEvent","offsetX","clientLeft","offsetY","clientTop","handleMouseUp","push","handleMouseOut","handleMouseMove","mouseX","mouseY","canvasEle","width","height","getContext"],"mappings":"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","sourcesContent":["import \"./styles.css\";\nimport React, { useRef, useEffect } from 'react';\nexport default function App() {\n  const canvas = useRef();\n  let ctx = null;\n  let currentBox =  null; \n  let boxArray = [];\n  let image = new Image(60, 45);\n  image.src = 'https://mdn.mozillademos.org/files/5397/rhino.jpg';\n  \n  const drawBox = (box) => {\n    const borderColor = 'black';\n    const borderWidth = 1;\n    const { x, y, w, h } = box;\n    ctx.beginPath();\n    ctx.strokeStyle = borderColor;\n    ctx.lineWidth = borderWidth;\n    ctx.rect(x, y, w, h);\n    ctx.stroke();\n\n  }\n  const drawBoxes = () => {\n    if (ctx !== null) {\n      ctx.clearRect(0, 0, canvas.current.clientWidth, canvas.current.clientHeight);  \n      ctx.drawImage(image, 0, 0);\n      for (let box of boxArray) {\n        drawBox(box);\n      }\n      if (currentBox !== null) {\n        drawBox(currentBox);\n      }     \n    }\n  }\n\n  const handleMouseDown = e => {\n    const x = parseInt(e.nativeEvent.offsetX - canvas.current.clientLeft);\n    const y = parseInt(e.nativeEvent.offsetY - canvas.current.clientTop);\n    currentBox = {x, y, w: 30, h: 30};\n    drawBoxes();\n  }  \n\n  const handleMouseUp = e => {\n    if (currentBox !== null) {\n      boxArray.push(currentBox);\n      currentBox = null;\n    }\n    drawBoxes();\n  }  \n\n  const handleMouseOut = e => {\n    currentBox = null\n    drawBoxes();\n  }\n\n  const handleMouseMove = e => {\n    if (currentBox !== null) {\n      const { x, y, w, h } = currentBox;\n\n      const mouseX = parseInt(e.nativeEvent.offsetX - canvas.current.clientLeft);\n      const mouseY = parseInt(e.nativeEvent.offsetY - canvas.current.clientTop);\n      currentBox = {x, y, w: mouseX - x, h: mouseY - y};\n      drawBoxes();\n    }\n  }\n\n\n\n  // initialize the canvas context\n  useEffect(() => {\n    // dynamically assign the width and height to canvas\n    const canvasEle = canvas.current;\n    canvasEle.width = canvasEle.clientWidth;\n    canvasEle.height = canvasEle.clientHeight;\n \n    // get context of the canvas\n    ctx = canvasEle.getContext(\"2d\");\n  }, []);\n\n  useEffect(() => {   \n    drawBoxes();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h1>Hello CodeSandbox</h1>\n      <h2>Start editing to see some magic happen!</h2>\n      <canvas \n        onMouseDown={handleMouseDown} \n        onMouseUp={handleMouseUp}\n        onMouseOut={handleMouseOut}\n        onMouseMove={handleMouseMove}\n        ref={canvas}>    \n      </canvas>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}