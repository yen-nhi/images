{"ast":null,"code":"import _slicedToArray from \"/home/nhi/react Images/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/home/nhi/react Images/src/App.js\",\n    _s = $RefreshSig$();\n\nimport Canvas from \"./components/Canvas\";\nimport classes from './App.module.css';\nimport { useState } from 'react';\nimport { storage } from './firebase/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imageUrl = _useState4[0],\n      setImageUrl = _useState4[1];\n\n  var fileChangeHandler = function fileChangeHandler(e) {\n    setImage(e.target.files[0]);\n  };\n\n  var fileUploadHandler = function fileUploadHandler() {\n    var uploadTask = storage.ref(\"/images/\".concat(image.name)).put(image); //initiates the firebase side uploading \n\n    uploadTask.on('state_changed', function (snapShot) {}, function (err) {\n      console.log(err);\n    }, function () {\n      // gets the functions from storage refences the image storage in firebase by the children\n      // gets the download url then sets the image from firebase as the value for the imgUrl key:\n      storage.ref('images').child(imageAsFile.name).getDownloadURL().then(function (url) {\n        setImageUrl(url);\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.app,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: fileChangeHandler,\n      className: classes.chooseFile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: fileUploadHandler,\n      children: \"Upload Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: \"image tag\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"Pr31/i7hEVYutz5QEdwe0YQUAJw=\");\n\n_c = App;\n;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/nhi/react Images/src/App.js"],"names":["Canvas","classes","useState","storage","App","image","setImage","imageUrl","setImageUrl","fileChangeHandler","e","target","files","fileUploadHandler","uploadTask","ref","name","put","on","snapShot","err","console","log","child","imageAsFile","getDownloadURL","then","url","app","chooseFile"],"mappings":";;;;;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,OAAT,QAAwB,qBAAxB;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,kBAA0BF,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOG,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAgCJ,QAAQ,EAAxC;AAAA;AAAA,MAAOK,QAAP;AAAA,MAAiBC,WAAjB;;AACD,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD,EAAO;AAChCJ,IAAAA,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR;AACA,GAFD;;AAIA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC7B,QAAMC,UAAU,GAAGX,OAAO,CAACY,GAAR,mBAAuBV,KAAK,CAACW,IAA7B,GAAqCC,GAArC,CAAyCZ,KAAzC,CAAnB,CAD6B,CAE7B;;AACAS,IAAAA,UAAU,CAACI,EAAX,CAAc,eAAd,EACA,UAACC,QAAD,EAAc,CAAE,CADhB,EAEA,UAACC,GAAD,EAAS;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAJD,EAIG,YAAM;AACP;AACA;AACAjB,MAAAA,OAAO,CAACY,GAAR,CAAY,QAAZ,EAAsBQ,KAAtB,CAA4BC,WAAW,CAACR,IAAxC,EAA8CS,cAA9C,GACCC,IADD,CACM,UAAAC,GAAG,EAAI;AACXnB,QAAAA,WAAW,CAACmB,GAAD,CAAX;AACD,OAHD;AAID,KAXD;AAYF,GAfD;;AAkBC,sBACI;AAAK,IAAA,SAAS,EAAE1B,OAAO,CAAC2B,GAAxB;AAAA,4BACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAEnB,iBAA7B;AAAgD,MAAA,SAAS,EAAER,OAAO,CAAC4B;AAAnE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAEhB,iBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAK,MAAA,GAAG,EAAEN,QAAV;AAAoB,MAAA,GAAG,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQD;;GAjCQH,G;;KAAAA,G;AAiCR;AAED,eAAeA,GAAf","sourcesContent":["import Canvas from \"./components/Canvas\";\nimport classes from './App.module.css';\nimport { useState } from 'react';\nimport { storage } from './firebase/firebase';\n\nfunction App() {\n  const [image, setImage] = useState('');\n  const [imageUrl, setImageUrl] = useState();\n const fileChangeHandler = (e) => {\n  setImage(e.target.files[0])\n }\n\n const fileUploadHandler = () => {\n    const uploadTask = storage.ref(`/images/${image.name}`).put(image)\n    //initiates the firebase side uploading \n    uploadTask.on('state_changed', \n    (snapShot) => {}, \n    (err) => {\n      console.log(err)\n    }, () => {\n      // gets the functions from storage refences the image storage in firebase by the children\n      // gets the download url then sets the image from firebase as the value for the imgUrl key:\n      storage.ref('images').child(imageAsFile.name).getDownloadURL()\n      .then(url => {\n        setImageUrl(url);\n      })\n    })\n };\n\n\n  return(\n      <div className={classes.app}>\n        <input type=\"file\" onChange={fileChangeHandler} className={classes.chooseFile}/>\n        <button type=\"button\" onClick={fileUploadHandler}>Upload Image</button>\n        <img src={imageUrl} alt=\"image tag\" />\n        <Canvas/>\n      </div>\n  )\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}